{"version":3,"file":"note-settings.view.element-CLDNH-sH.js","sources":["../../../Client/src/workspace/note/views/note-settings.view.element.ts"],"sourcesContent":["/**\r\n * Note Settings View Element\r\n *\r\n * Settings view for note metadata (tags, created/modified info).\r\n * This is a WorkspaceView that appears as a tab in the workspace.\r\n *\r\n * Skills used: umbraco-workspace (WorkspaceView), umbraco-umbraco-element\r\n */\r\n\r\nimport { NOTE_WORKSPACE_CONTEXT } from \"../note-workspace.context-token.js\";\r\nimport { css, html, customElement, state } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\r\n\r\n@customElement(\"notes-note-settings-view\")\r\nexport class NoteSettingsViewElement extends UmbLitElement {\r\n  #workspaceContext?: typeof NOTE_WORKSPACE_CONTEXT.TYPE;\r\n\r\n  @state()\r\n  private _tags: string[] = [];\r\n\r\n  @state()\r\n  private _newTag = \"\";\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.consumeContext(NOTE_WORKSPACE_CONTEXT, (instance) => {\r\n      this.#workspaceContext = instance;\r\n      this.#observeData();\r\n    });\r\n  }\r\n\r\n  #observeData() {\r\n    if (!this.#workspaceContext) return;\r\n\r\n    this.observe(this.#workspaceContext.tags, (tags) => {\r\n      this._tags = tags || [];\r\n    });\r\n  }\r\n\r\n  #handleNewTagInput(e: InputEvent) {\r\n    const target = e.target as HTMLInputElement;\r\n    this._newTag = target.value;\r\n  }\r\n\r\n  #handleAddTag() {\r\n    if (this._newTag.trim()) {\r\n      this.#workspaceContext?.addTag(this._newTag.trim());\r\n      this._newTag = \"\";\r\n    }\r\n  }\r\n\r\n  #handleRemoveTag(tag: string) {\r\n    this.#workspaceContext?.removeTag(tag);\r\n  }\r\n\r\n  #handleKeyPress(e: KeyboardEvent) {\r\n    if (e.key === \"Enter\") {\r\n      this.#handleAddTag();\r\n    }\r\n  }\r\n\r\n  override render() {\r\n    return html`\r\n      <uui-box headline=\"Tags\">\r\n        <div class=\"tags-section\">\r\n          <div class=\"tag-input\">\r\n            <uui-input\r\n              placeholder=\"Add a tag...\"\r\n              .value=${this._newTag}\r\n              @input=${this.#handleNewTagInput}\r\n              @keypress=${this.#handleKeyPress}\r\n            ></uui-input>\r\n            <uui-button\r\n              look=\"primary\"\r\n              @click=${this.#handleAddTag}\r\n              label=\"Add Tag\"\r\n              .disabled=${!this._newTag.trim()}\r\n            >\r\n              Add\r\n            </uui-button>\r\n          </div>\r\n\r\n          <div class=\"tags-list\">\r\n            ${this._tags.length > 0\r\n              ? this._tags.map(\r\n                  (tag) => html`\r\n                    <uui-tag>\r\n                      ${tag}\r\n                      <uui-button\r\n                        compact\r\n                        look=\"primary\"\r\n                        color=\"danger\"\r\n                        @click=${() => this.#handleRemoveTag(tag)}\r\n                        label=\"Remove tag\"\r\n                      >\r\n                        <uui-icon name=\"icon-delete\"></uui-icon>\r\n                      </uui-button>\r\n                    </uui-tag>\r\n                  `\r\n                )\r\n              : html`<p class=\"no-tags\">No tags yet. Add some tags to organize your notes.</p>`}\r\n          </div>\r\n        </div>\r\n      </uui-box>\r\n\r\n      <uui-box headline=\"Information\" class=\"info-box\">\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-item\">\r\n            <span class=\"info-label\">Created</span>\r\n            <span class=\"info-value\">-</span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"info-label\">Modified</span>\r\n            <span class=\"info-value\">-</span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"info-label\">Created by</span>\r\n            <span class=\"info-value\">-</span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"info-label\">Modified by</span>\r\n            <span class=\"info-value\">-</span>\r\n          </div>\r\n        </div>\r\n      </uui-box>\r\n    `;\r\n  }\r\n\r\n  static override readonly styles = [\r\n    css`\r\n      :host {\r\n        display: block;\r\n        padding: var(--uui-size-layout-1);\r\n      }\r\n\r\n      uui-box {\r\n        margin-bottom: var(--uui-size-space-5);\r\n      }\r\n\r\n      .tags-section {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--uui-size-space-4);\r\n      }\r\n\r\n      .tag-input {\r\n        display: flex;\r\n        gap: var(--uui-size-space-3);\r\n      }\r\n\r\n      .tag-input uui-input {\r\n        flex: 1;\r\n        max-width: 300px;\r\n      }\r\n\r\n      .tags-list {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        gap: var(--uui-size-space-2);\r\n      }\r\n\r\n      .tags-list uui-tag {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: var(--uui-size-space-2);\r\n      }\r\n\r\n      .tags-list uui-tag uui-button {\r\n        margin-left: var(--uui-size-space-1);\r\n      }\r\n\r\n      .no-tags {\r\n        color: var(--uui-color-text-alt);\r\n        font-style: italic;\r\n        margin: 0;\r\n      }\r\n\r\n      .info-box {\r\n        margin-top: var(--uui-size-space-5);\r\n      }\r\n\r\n      .info-grid {\r\n        display: grid;\r\n        grid-template-columns: repeat(2, 1fr);\r\n        gap: var(--uui-size-space-4);\r\n      }\r\n\r\n      .info-item {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--uui-size-space-1);\r\n      }\r\n\r\n      .info-label {\r\n        font-size: var(--uui-type-small-size);\r\n        color: var(--uui-color-text-alt);\r\n        text-transform: uppercase;\r\n      }\r\n\r\n      .info-value {\r\n        color: var(--uui-color-text);\r\n      }\r\n    `,\r\n  ];\r\n}\r\n\r\nexport default NoteSettingsViewElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"notes-note-settings-view\": NoteSettingsViewElement;\r\n  }\r\n}\r\n"],"names":["_workspaceContext","_NoteSettingsViewElement_instances","observeData_fn","handleNewTagInput_fn","handleAddTag_fn","handleRemoveTag_fn","handleKeyPress_fn","NoteSettingsViewElement","UmbLitElement","__privateAdd","NOTE_WORKSPACE_CONTEXT","instance","__privateSet","__privateMethod","html","tag","__privateGet","tags","e","target","_a","css","__decorateClass","state","customElement","NoteSettingsViewElement_default"],"mappings":"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"}