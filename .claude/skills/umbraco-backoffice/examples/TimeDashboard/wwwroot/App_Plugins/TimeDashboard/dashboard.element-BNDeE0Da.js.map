{"version":3,"file":"dashboard.element-BNDeE0Da.js","sources":["../../../Client/src/dashboards/dashboard.element.ts"],"sourcesContent":["import { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport { LitElement, html, css, customElement, property } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport TimeManagementContext, { TIME_MANAGEMENT_CONTEXT_TOKEN } from \"../contexts/time.context.js\";\r\n\r\n@customElement('timedashboard-dashboard')\r\nexport class TimeDashboardDashboard extends UmbElementMixin(LitElement) {\r\n\r\n    #timeContext?: TimeManagementContext;\r\n\r\n    @property({ type: String })\r\n    time?: string;\r\n\r\n    @property({ type: String })\r\n    date?: string;\r\n\r\n    @property({ type: Boolean })\r\n    isPolling: boolean = false;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.consumeContext(TIME_MANAGEMENT_CONTEXT_TOKEN, (_instance) => {\r\n            if (!_instance) return;\r\n            this.#timeContext = _instance;\r\n\r\n            this.observe(_instance.time, (_time) => {\r\n                this.time = _time;\r\n            });\r\n\r\n            this.observe(_instance.date, (_date) => {\r\n                this.date = _date;\r\n            });\r\n\r\n            this.observe(_instance.polling, (_polling) => {\r\n                this.isPolling = _polling;\r\n            })\r\n        });\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n\r\n        if (this.#timeContext != null) {\r\n            this.#timeContext.getDateAndTime();\r\n            this.#timeContext.togglePolling();\r\n        }\r\n    }\r\n\r\n    @property()\r\n    title = '';\r\n\r\n    @property()\r\n    description = 'Show the time the server thinks it is.'\r\n\r\n    async getTime() {\r\n        await this.#timeContext?.getTime();\r\n    }\r\n\r\n    async getDate() {\r\n        await this.#timeContext?.getDate();\r\n    }\r\n\r\n    toggle() {\r\n        console.log('toggle');\r\n        this.#timeContext?.togglePolling();\r\n    }\r\n\r\n    render() {\r\n        return html`\r\n            <uui-box headline=\"${this.localize.term('time_name')}\">\r\n                <div slot=\"header\">\r\n                    <umb-localize key=\"time_description\"></umb-localize>\r\n                </div>\r\n                <div class=\"time-box\">\r\n                  <h2>${this.time}</h2>\r\n                  <uui-button\r\n                    .disabled=${this.isPolling}\r\n                    @click=${this.getTime} look=\"primary\" color=\"positive\" label=\"get time\"></uui-button>\r\n                </div>\r\n\r\n                <div class=\"time-box\">\r\n                  <h2>${this.date}</h2>\r\n                  <uui-button\r\n                    .disabled=${this.isPolling}\r\n                    @click=${this.getDate} look=\"primary\" color=\"default\" label=\"get date\"></uui-button>\r\n                </div>\r\n\r\n                <div>\r\n                    <uui-toggle label=\"update\"\r\n                        .checked=\"${this.isPolling || false}\"\r\n                        @change=${this.toggle}>automatically update</uui-toggle>\r\n                </div>\r\n            </uui-box>\r\n        `\r\n    }\r\n\r\n    static styles = css`\r\n        :host {\r\n            display: block;\r\n            padding: 20px;\r\n        }\r\n\r\n        .time-box {\r\n            display: flex;\r\n            margin-bottom: 10px;\r\n            justify-content: space-between;\r\n        }\r\n    `\r\n}\r\n\r\nexport default TimeDashboardDashboard;\r\n\r\ndeclare global {\r\n    interface HtmlElementTagNameMap {\r\n        'timedashboard-dashboard': TimeDashboardDashboard\r\n    }\r\n}\r\n"],"names":["_timeContext","TimeDashboardDashboard","UmbElementMixin","LitElement","__privateAdd","TIME_MANAGEMENT_CONTEXT_TOKEN","_instance","__privateSet","_time","_date","_polling","__privateGet","html","css","__decorateClass","property","customElement","TimeDashboardDashboard_default"],"mappings":";;;;;;;;;gUAAAA;AAKO,IAAMC,IAAN,cAAqCC,EAAgBC,CAAU,EAAE;AAAA,EAapE,cAAc;AACV,UAAA,GAZJC,EAAA,MAAAJ,CAAA,GASA,KAAA,YAAqB,IAiCrB,KAAA,QAAQ,IAGR,KAAA,cAAc,0CA/BV,KAAK,eAAeK,GAA+B,CAACC,MAAc;AAC9D,MAAKA,MACLC,EAAA,MAAKP,GAAeM,CAAA,GAEpB,KAAK,QAAQA,EAAU,MAAM,CAACE,MAAU;AACpC,aAAK,OAAOA;AAAA,MAChB,CAAC,GAED,KAAK,QAAQF,EAAU,MAAM,CAACG,MAAU;AACpC,aAAK,OAAOA;AAAA,MAChB,CAAC,GAED,KAAK,QAAQH,EAAU,SAAS,CAACI,MAAa;AAC1C,aAAK,YAAYA;AAAA,MACrB,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AAAA,EAEA,oBAA0B;AACtB,UAAM,kBAAA,GAEFC,EAAA,MAAKX,MAAgB,SACrBW,EAAA,MAAKX,GAAa,eAAA,GAClBW,EAAA,MAAKX,GAAa,cAAA;AAAA,EAE1B;AAAA,EAQA,MAAM,UAAU;AACZ,UAAMW,EAAA,MAAKX,IAAc,QAAA;AAAA,EAC7B;AAAA,EAEA,MAAM,UAAU;AACZ,UAAMW,EAAA,MAAKX,IAAc,QAAA;AAAA,EAC7B;AAAA,EAEA,SAAS;AACL,YAAQ,IAAI,QAAQ,GACpBW,EAAA,MAAKX,IAAc,cAAA;AAAA,EACvB;AAAA,EAEA,SAAS;AACL,WAAOY;AAAA,iCACkB,KAAK,SAAS,KAAK,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKxC,KAAK,IAAI;AAAA;AAAA,gCAED,KAAK,SAAS;AAAA,6BACjB,KAAK,OAAO;AAAA;AAAA;AAAA;AAAA,wBAIjB,KAAK,IAAI;AAAA;AAAA,gCAED,KAAK,SAAS;AAAA,6BACjB,KAAK,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKL,KAAK,aAAa,EAAK;AAAA,kCACzB,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA,EAIzC;AAcJ;AArGIZ,IAAA,oBAAA,QAAA;AAFSC,EA2FF,SAASY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAtFhBC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAJjBd,EAKT,WAAA,QAAA,CAAA;AAGAa,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAPjBd,EAQT,WAAA,QAAA,CAAA;AAGAa,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAA,CAAS;AAAA,GAVlBd,EAWT,WAAA,aAAA,CAAA;AAiCAa,EAAA;AAAA,EADCC,EAAA;AAAS,GA3CDd,EA4CT,WAAA,SAAA,CAAA;AAGAa,EAAA;AAAA,EADCC,EAAA;AAAS,GA9CDd,EA+CT,WAAA,eAAA,CAAA;AA/CSA,IAANa,EAAA;AAAA,EADNE,EAAc,yBAAyB;AAAA,GAC3Bf,CAAA;AAyGb,MAAAgB,IAAehB;"}