{"version":3,"file":"demo-tree-repository-CKb_0bPO.js","sources":["../../../Client/src/trees/demo-tree-data-source.ts","../../../Client/src/trees/demo-tree-repository.ts"],"sourcesContent":["import type { UmbTreeDataSource, UmbTreeRootModel } from \"@umbraco-cms/backoffice/tree\";\r\nimport { UmbControllerBase } from \"@umbraco-cms/backoffice/class-api\";\r\nimport type { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\r\nimport type { UmbTreeItemModel } from \"@umbraco-cms/backoffice/tree\";\r\n\r\nexport interface DemoTreeItemModel extends UmbTreeItemModel {}\r\n\r\nexport interface DemoTreeRootModel extends UmbTreeRootModel {}\r\n\r\nexport class DemoTreeDataSource extends UmbControllerBase implements UmbTreeDataSource<DemoTreeItemModel> {\r\n  constructor(host: UmbControllerHost) {\r\n    super(host);\r\n  }\r\n\r\n  async getRootItems() {\r\n    console.log(\"getRootItems called\");\r\n    const items: Array<DemoTreeItemModel> = [\r\n      {\r\n        unique: \"item-1\",\r\n        name: \"Item 1\",\r\n        entityType: \"demo-tree-item\",\r\n        hasChildren: true,\r\n        isFolder: true,\r\n        parent: { unique: \"null\", entityType: \"demo-tree-root\" },\r\n      },\r\n      {\r\n        unique: \"item-2\",\r\n        name: \"Item 2\",\r\n        entityType: \"demo-tree-item\",\r\n        hasChildren: false,\r\n        isFolder: false,\r\n        parent: { unique: \"null\", entityType: \"demo-tree-root\" },\r\n      },\r\n    ];\r\n\r\n    return { data: { items, total: items.length } };\r\n  }\r\n\r\n  async getChildrenOf(args: { parent: { unique: string | null } }) {\r\n    console.log(\"getChildrenOf called with parent:\", args.parent);\r\n    const items: Array<DemoTreeItemModel> = [];\r\n    const parentUnique = args.parent?.unique;\r\n\r\n    // Root level items\r\n    if (parentUnique === null) {\r\n      console.log(\"Loading root level items\");\r\n      items.push(\r\n        {\r\n          unique: \"item-1\",\r\n          name: \"Item 1\",\r\n          entityType: \"demo-tree-item\",\r\n          hasChildren: true,\r\n          isFolder: true,\r\n          parent: { unique: \"null\", entityType: \"demo-tree-root\" },\r\n        },\r\n        {\r\n          unique: \"item-2\",\r\n          name: \"Item 2\",\r\n          entityType: \"demo-tree-item\",\r\n          hasChildren: false,\r\n          isFolder: false,\r\n          parent: { unique: \"null\", entityType: \"demo-tree-root\" },\r\n        }\r\n      );\r\n    } else if (parentUnique === \"item-1\") {\r\n      console.log(\"Loading children for item-1\");\r\n      items.push(\r\n        {\r\n          unique: \"item-1-1\",\r\n          name: \"Sub Item 1.1\",\r\n          entityType: \"demo-tree-item\",\r\n          hasChildren: false,\r\n          isFolder: false,\r\n          parent: { unique: \"item-1\", entityType: \"demo-tree-item\" },\r\n        },\r\n        {\r\n          unique: \"item-1-2\",\r\n          name: \"Sub Item 1.2\",\r\n          entityType: \"demo-tree-item\",\r\n          hasChildren: false,\r\n          isFolder: false,\r\n          parent: { unique: \"item-1\", entityType: \"demo-tree-item\" },\r\n        }\r\n      );\r\n    }\r\n\r\n    console.log(\"Returning items:\", items);\r\n    return { data: { items, total: items.length } };\r\n  }\r\n\r\n  async getAncestorsOf(args: { treeItem: { unique: string } }) {\r\n    const ancestors: Array<DemoTreeItemModel> = [];\r\n    const unique = args.treeItem.unique;\r\n\r\n    if (unique === \"item-1-1\" || unique === \"item-1-2\") {\r\n      ancestors.push({\r\n        unique: \"item-1\",\r\n        name: \"Item 1\",\r\n        entityType: \"demo-tree-item\",\r\n        hasChildren: true,\r\n        isFolder: true,\r\n        parent: { unique: \"\", entityType: \"demo-tree-root\" },\r\n      });\r\n    }\r\n\r\n    return { data: ancestors };\r\n  }\r\n}\r\n","import { UmbTreeRepositoryBase } from \"@umbraco-cms/backoffice/tree\";\r\nimport type { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\r\nimport { DemoTreeDataSource, type DemoTreeItemModel, type DemoTreeRootModel } from \"./demo-tree-data-source.js\";\r\n\r\nclass DemoTreeRepository extends UmbTreeRepositoryBase<DemoTreeItemModel, DemoTreeRootModel> {\r\n  constructor(host: UmbControllerHost) {\r\n    super(host, DemoTreeDataSource);\r\n  }\r\n\r\n  async requestTreeRoot() {\r\n    return {\r\n      data: {\r\n        unique: null,\r\n        entityType: \"demo-tree-root\",\r\n        name: \"Demo Tree\",\r\n        hasChildren: true,\r\n        isFolder: true,\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nexport { DemoTreeRepository as default };\r\nexport { DemoTreeRepository as api };\r\n"],"names":["DemoTreeDataSource","UmbControllerBase","host","items","args","parentUnique","ancestors","unique","DemoTreeRepository","UmbTreeRepositoryBase"],"mappings":";;AASO,MAAMA,UAA2BC,EAAkE;AAAA,EACxG,YAAYC,GAAyB;AACnC,UAAMA,CAAI;AAAA,EACZ;AAAA,EAEA,MAAM,eAAe;AACnB,YAAQ,IAAI,qBAAqB;AACjC,UAAMC,IAAkC;AAAA,MACtC;AAAA,QACE,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,UAAU;AAAA,QACV,QAAQ,EAAE,QAAQ,QAAQ,YAAY,iBAAA;AAAA,MAAiB;AAAA,MAEzD;AAAA,QACE,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,UAAU;AAAA,QACV,QAAQ,EAAE,QAAQ,QAAQ,YAAY,iBAAA;AAAA,MAAiB;AAAA,IACzD;AAGF,WAAO,EAAE,MAAM,EAAE,OAAAA,GAAO,OAAOA,EAAM,SAAO;AAAA,EAC9C;AAAA,EAEA,MAAM,cAAcC,GAA6C;AAC/D,YAAQ,IAAI,qCAAqCA,EAAK,MAAM;AAC5D,UAAMD,IAAkC,CAAA,GAClCE,IAAeD,EAAK,QAAQ;AAGlC,WAAIC,MAAiB,QACnB,QAAQ,IAAI,0BAA0B,GACtCF,EAAM;AAAA,MACJ;AAAA,QACE,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,UAAU;AAAA,QACV,QAAQ,EAAE,QAAQ,QAAQ,YAAY,iBAAA;AAAA,MAAiB;AAAA,MAEzD;AAAA,QACE,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,UAAU;AAAA,QACV,QAAQ,EAAE,QAAQ,QAAQ,YAAY,iBAAA;AAAA,MAAiB;AAAA,IACzD,KAEOE,MAAiB,aAC1B,QAAQ,IAAI,6BAA6B,GACzCF,EAAM;AAAA,MACJ;AAAA,QACE,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,UAAU;AAAA,QACV,QAAQ,EAAE,QAAQ,UAAU,YAAY,iBAAA;AAAA,MAAiB;AAAA,MAE3D;AAAA,QACE,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,UAAU;AAAA,QACV,QAAQ,EAAE,QAAQ,UAAU,YAAY,iBAAA;AAAA,MAAiB;AAAA,IAC3D,IAIJ,QAAQ,IAAI,oBAAoBA,CAAK,GAC9B,EAAE,MAAM,EAAE,OAAAA,GAAO,OAAOA,EAAM,SAAO;AAAA,EAC9C;AAAA,EAEA,MAAM,eAAeC,GAAwC;AAC3D,UAAME,IAAsC,CAAA,GACtCC,IAASH,EAAK,SAAS;AAE7B,YAAIG,MAAW,cAAcA,MAAW,eACtCD,EAAU,KAAK;AAAA,MACb,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,UAAU;AAAA,MACV,QAAQ,EAAE,QAAQ,IAAI,YAAY,iBAAA;AAAA,IAAiB,CACpD,GAGI,EAAE,MAAMA,EAAA;AAAA,EACjB;AACF;ACvGA,MAAME,UAA2BC,EAA4D;AAAA,EAC3F,YAAYP,GAAyB;AACnC,UAAMA,GAAMF,CAAkB;AAAA,EAChC;AAAA,EAEA,MAAM,kBAAkB;AACtB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,MAAM;AAAA,QACN,aAAa;AAAA,QACb,UAAU;AAAA,MAAA;AAAA,IACZ;AAAA,EAEJ;AACF;"}